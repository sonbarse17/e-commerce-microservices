<svg width="1200" height="800" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .title { font: bold 24px Arial; fill: #2c3e50; }
      .service { font: 14px Arial; fill: #2c3e50; }
      .port { font: 12px Arial; fill: #7f8c8d; }
      .layer-title { font: bold 16px Arial; fill: #34495e; }
      .arrow { stroke: #3498db; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .connection { stroke: #95a5a6; stroke-width: 1; stroke-dasharray: 5,5; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#3498db" />
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="1200" height="800" fill="#ecf0f1"/>
  
  <!-- Title -->
  <text x="600" y="30" text-anchor="middle" class="title">E-Commerce Microservices Architecture</text>
  
  <!-- Frontend Layer -->
  <rect x="50" y="60" width="1100" height="80" fill="#e8f5e8" stroke="#27ae60" stroke-width="2" rx="10"/>
  <text x="70" y="85" class="layer-title">Frontend Layer</text>
  <rect x="500" y="90" width="200" height="40" fill="#2ecc71" stroke="#27ae60" rx="5"/>
  <text x="600" y="110" text-anchor="middle" class="service" fill="white">Angular Frontend</text>
  <text x="600" y="125" text-anchor="middle" class="port" fill="white">Port: 4200</text>
  
  <!-- API Gateway Layer -->
  <rect x="50" y="160" width="1100" height="80" fill="#e8f4fd" stroke="#3498db" stroke-width="2" rx="10"/>
  <text x="70" y="185" class="layer-title">API Gateway Layer</text>
  <rect x="500" y="190" width="200" height="40" fill="#3498db" stroke="#2980b9" rx="5"/>
  <text x="600" y="210" text-anchor="middle" class="service" fill="white">API Gateway</text>
  <text x="600" y="225" text-anchor="middle" class="port" fill="white">Port: 8080</text>
  
  <!-- Microservices Layer -->
  <rect x="50" y="260" width="1100" height="200" fill="#fef9e7" stroke="#f39c12" stroke-width="2" rx="10"/>
  <text x="70" y="285" class="layer-title">Microservices Layer</text>
  
  <!-- Row 1 Services -->
  <rect x="80" y="300" width="140" height="50" fill="#e74c3c" stroke="#c0392b" rx="5"/>
  <text x="150" y="320" text-anchor="middle" class="service" fill="white">User Service</text>
  <text x="150" y="335" text-anchor="middle" class="port" fill="white">Port: 8081</text>
  
  <rect x="240" y="300" width="140" height="50" fill="#e67e22" stroke="#d35400" rx="5"/>
  <text x="310" y="320" text-anchor="middle" class="service" fill="white">Product Service</text>
  <text x="310" y="335" text-anchor="middle" class="port" fill="white">Port: 8082</text>
  
  <rect x="400" y="300" width="140" height="50" fill="#9b59b6" stroke="#8e44ad" rx="5"/>
  <text x="470" y="320" text-anchor="middle" class="service" fill="white">Inventory Service</text>
  <text x="470" y="335" text-anchor="middle" class="port" fill="white">Port: 8083</text>
  
  <rect x="560" y="300" width="140" height="50" fill="#1abc9c" stroke="#16a085" rx="5"/>
  <text x="630" y="320" text-anchor="middle" class="service" fill="white">Order Service</text>
  <text x="630" y="335" text-anchor="middle" class="port" fill="white">Port: 8084</text>
  
  <rect x="720" y="300" width="140" height="50" fill="#34495e" stroke="#2c3e50" rx="5"/>
  <text x="790" y="320" text-anchor="middle" class="service" fill="white">Payment Service</text>
  <text x="790" y="335" text-anchor="middle" class="port" fill="white">Port: 8085</text>
  
  <!-- Row 2 Services -->
  <rect x="160" y="370" width="140" height="50" fill="#e74c3c" stroke="#c0392b" rx="5"/>
  <text x="230" y="390" text-anchor="middle" class="service" fill="white">Cart Service</text>
  <text x="230" y="405" text-anchor="middle" class="port" fill="white">Port: 8086</text>
  
  <rect x="320" y="370" width="140" height="50" fill="#e67e22" stroke="#d35400" rx="5"/>
  <text x="390" y="390" text-anchor="middle" class="service" fill="white">Notification Service</text>
  <text x="390" y="405" text-anchor="middle" class="port" fill="white">Port: 8087</text>
  
  <rect x="480" y="370" width="140" height="50" fill="#9b59b6" stroke="#8e44ad" rx="5"/>
  <text x="550" y="390" text-anchor="middle" class="service" fill="white">Review Service</text>
  <text x="550" y="405" text-anchor="middle" class="port" fill="white">Port: 8088</text>
  
  <rect x="640" y="370" width="140" height="50" fill="#1abc9c" stroke="#16a085" rx="5"/>
  <text x="710" y="390" text-anchor="middle" class="service" fill="white">Analytics Service</text>
  <text x="710" y="405" text-anchor="middle" class="port" fill="white">Port: 8089</text>
  
  <!-- Data Layer -->
  <rect x="50" y="480" width="1100" height="100" fill="#f4f4f4" stroke="#7f8c8d" stroke-width="2" rx="10"/>
  <text x="70" y="505" class="layer-title">Data Layer</text>
  
  <rect x="300" y="520" width="200" height="50" fill="#2c3e50" stroke="#34495e" rx="5"/>
  <text x="400" y="540" text-anchor="middle" class="service" fill="white">MySQL Database</text>
  <text x="400" y="555" text-anchor="middle" class="port" fill="white">Port: 3306</text>
  
  <rect x="700" y="520" width="200" height="50" fill="#e74c3c" stroke="#c0392b" rx="5"/>
  <text x="800" y="540" text-anchor="middle" class="service" fill="white">Redis Cache</text>
  <text x="800" y="555" text-anchor="middle" class="port" fill="white">Port: 6379</text>
  
  <!-- Infrastructure Layer -->
  <rect x="50" y="600" width="1100" height="80" fill="#f8f9fa" stroke="#6c757d" stroke-width="2" rx="10"/>
  <text x="70" y="625" class="layer-title">Infrastructure Layer</text>
  <rect x="200" y="630" width="150" height="40" fill="#6c757d" stroke="#495057" rx="5"/>
  <text x="275" y="650" text-anchor="middle" class="service" fill="white">Docker Compose</text>
  
  <rect x="400" y="630" width="150" height="40" fill="#6c757d" stroke="#495057" rx="5"/>
  <text x="475" y="650" text-anchor="middle" class="service" fill="white">Health Checks</text>
  
  <rect x="600" y="630" width="150" height="40" fill="#6c757d" stroke="#495057" rx="5"/>
  <text x="675" y="650" text-anchor="middle" class="service" fill="white">Load Balancing</text>
  
  <rect x="800" y="630" width="150" height="40" fill="#6c757d" stroke="#495057" rx="5"/>
  <text x="875" y="650" text-anchor="middle" class="service" fill="white">Service Discovery</text>
  
  <!-- Arrows -->
  <line x1="600" y1="130" x2="600" y2="190" class="arrow"/>
  <line x1="600" y1="230" x2="150" y2="300" class="arrow"/>
  <line x1="600" y1="230" x2="310" y2="300" class="arrow"/>
  <line x1="600" y1="230" x2="470" y2="300" class="arrow"/>
  <line x1="600" y1="230" x2="630" y2="300" class="arrow"/>
  <line x1="600" y1="230" x2="790" y2="300" class="arrow"/>
  <line x1="600" y1="230" x2="230" y2="370" class="arrow"/>
  <line x1="600" y1="230" x2="390" y2="370" class="arrow"/>
  <line x1="600" y1="230" x2="550" y2="370" class="arrow"/>
  <line x1="600" y1="230" x2="710" y2="370" class="arrow"/>
  
  <!-- Database connections -->
  <line x1="400" y1="480" x2="150" y2="350" class="connection"/>
  <line x1="400" y1="480" x2="310" y2="350" class="connection"/>
  <line x1="400" y1="480" x2="470" y2="350" class="connection"/>
  <line x1="400" y1="480" x2="630" y2="350" class="connection"/>
  <line x1="400" y1="480" x2="790" y2="350" class="connection"/>
  <line x1="400" y1="480" x2="230" y2="420" class="connection"/>
  <line x1="400" y1="480" x2="390" y2="420" class="connection"/>
  <line x1="400" y1="480" x2="550" y2="420" class="connection"/>
  <line x1="400" y1="480" x2="710" y2="420" class="connection"/>
  
  <!-- Redis connections -->
  <line x1="800" y1="480" x2="230" y2="420" class="connection"/>
  <line x1="800" y1="480" x2="630" y2="350" class="connection"/>
  
  <!-- Legend -->
  <rect x="50" y="700" width="300" height="80" fill="white" stroke="#bdc3c7" rx="5"/>
  <text x="60" y="720" class="layer-title">Legend</text>
  <line x1="60" y1="730" x2="90" y2="730" class="arrow"/>
  <text x="100" y="735" class="service">HTTP Request Flow</text>
  <line x1="60" y1="750" x2="90" y2="750" class="connection"/>
  <text x="100" y="755" class="service">Database Connection</text>
  <rect x="60" y="760" width="20" height="15" fill="#3498db" rx="2"/>
  <text x="90" y="772" class="service">Microservice</text>
</svg>